# 房间监控及日志

::: tip 功能概述

房间日志提供游戏所有房间列表&服务端日志，同时服务端数据可以查看分时/分日的房间数据。

::: 

## 房间管理

### 游戏房间列表

房间列表可以按照状态（运行、销毁、异常）查询每个房间&玩家行为；

![CleanShot 2023-09-24 at 17.11.41@2x](https://arkimg.ark.online/CleanShot%202023-09-24%20at%2017.11.41@2x.webp)

### 实时日志

找到当前房间号点击【实时日志】，即可打印&下载服务端房间日志；

![CleanShot 2023-09-24 at 17.27.01@2x](https://arkimg.ark.online/CleanShot%202023-09-24%20at%2017.27.01@2x.webp)

游戏代码编写时可以通过Log或Error来区别打印服务端日志；

- **MWTSLIB日志类型**：编辑器底层打印的日志；

> TS层调用接口查找一个对象超时也可能反应在这里。

![CleanShot 2023-09-24 at 17.42.29@2x](https://arkimg.ark.online/CleanShot%202023-09-24%20at%2017.42.29@2x.webp)

- **MWTS日志类型**：TS代码层调用引发的日志

关于**TypeError类**的报错，这种一般是由于我们代码自身写出了bug导致的报错。

> 比如代码里查找一个guid为**55555**的对象，当然是无法找到这个对象的，而后续逻辑里没有对这个对象进行判断就直接调用方法设置位置，自然就会报错，而这种报错类型通常就含有关键字**TypeError**，这种类型的错误也是开发者应该重点关注的；

### 服务端性能

点击【房间列表】-【服务端性能】可监控当前房间的服务端性能。

> 最多支持查询24小时内数据，统计时间间隔支持5秒-5分钟；

<video controls src="https://cdn.233xyx.com/online/YZM5b0O9JB9n1695549695668.mp4"></video>

## 玩家管理

### 游戏玩家列表

### 游戏玩家存档

## 服务端监控

服务端监控提供实时指标和离线指标，指标包括当前在线人数、CCU(今天最大同时在线人数)、满房率、房间时长分布等描述玩家和房间情况的核心指标

### 实时满房率

关键指标包含游戏的当前存活房间数、当前在线人数、今天最大同时在线人数、今日累计游戏人数，方便创作者关注最新数据变动；

> 统计口径是5分钟，数据为当前实时数据，进行数据对比（红色上涨、绿色下跌）。

![Google Chrome 2024-07-22 17.09.00](https://arkimg.ark.online/Google%20Chrome%202024-07-22%2017.09.00.png)

- **当前存活房间数**：当前有多少存活中的房间数量。
- **当前在线人数**：当前有多少玩家在这个游戏里。
- **最大同时在线人数**：今天截止到目前，同时在线的最大人数。
- **今日累计游戏人数**：今天截至目前，累积的游戏人数。
- **1人房比例**：在5分钟内，有且只有一个人在的房间占比在线总的房间数。

![img](https://arkimg.ark.online/(null)-20240722165613099.png)

满房率低的房间，因为长时间等待或一个人游戏会降低联机游戏体验，导致游戏时长和留存差。

### 一人房&CCU

一人房主要受某一时刻游戏CCU&用户引擎不一致影响，强PVP的联机游戏可以通过添加游戏内机器人以及定时活动来降低对游戏的影响，同时需要注意场景的房间人数设置；

![img](https://arkimg.ark.online/(null)-20240722165613333.png)

1. **房间创建与销毁数量**：反映游戏的房间数量量级与销毁情况，创建量高则玩家活跃度高、新玩家涌入多。
2. **日活与同时在线CCU**：反映了游戏的每日玩家活跃度和受欢迎与玩家集中程度，最大同时在线人数高：高峰时间段玩家集中、特别活动吸引大量玩家。
3. **房间最大人数分布**：反映游戏房间存活期间最大玩家数量，了解不同规模房间的利用情况。
4. **房间存活时长分布**：反映游戏房间的持续时间，了解玩家游戏时长和房间的利用效率。

### 游戏断线重连
